<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Windows Kulcs Webshop</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --windows-blue: #0078d4;
  --windows-dark: #1e1e1e;
  --windows-darker: #121212;
  --windows-light-blue: #00a4ef;
  --windows-gray: #2d2d30;
}
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, var(--windows-darker) 0%, var(--windows-dark) 100%);
  color: #fff;
  min-height: 100vh;
  margin: 0;
  padding: 0;
}
.login-container { max-width: 450px; margin: 50px auto; padding: 20px; }
.login-card {
  background: var(--windows-gray);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  padding: 40px;
}
.login-header { text-align: center; margin-bottom: 30px; }
.login-icon {
  width: 80px; height: 80px;
  background: linear-gradient(135deg, var(--windows-blue), var(--windows-light-blue));
  border-radius: 16px;
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 20px;
  box-shadow: 0 10px 30px rgba(0,120,212,0.4);
}
.login-icon i { font-size: 40px; color: #fff; }
.form-control {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  color: #fff;
  padding: 12px;
  border-radius: 8px;
  transition: all 0.3s;
}
.form-control:focus {
  background: rgba(255,255,255,0.08);
  border-color: var(--windows-blue);
  color: #fff;
  box-shadow: 0 0 0 3px rgba(0,120,212,0.2);
}
.form-control::placeholder { color: rgba(255,255,255,0.4); }
.form-label { color: rgba(255,255,255,0.8); font-weight: 500; margin-bottom: 8px; }
.btn-primary {
  background: linear-gradient(135deg, var(--windows-blue), var(--windows-light-blue));
  border: none; padding: 12px; font-weight: 600; border-radius: 8px; transition: all 0.3s;
}
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,120,212,0.4); }
.btn-outline-primary {
  border: 2px solid var(--windows-blue);
  color: var(--windows-blue);
  background: transparent;
  padding: 12px; font-weight: 600; border-radius: 8px; transition: all 0.3s;
}
.btn-outline-primary:hover { background: var(--windows-blue); color: #fff; }

/* Shop styles */
.shop-container { padding: 20px; max-width: 1400px; margin: 0 auto; }
.shop-header {
  background: var(--windows-gray);
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 1px solid rgba(255,255,255,0.1);
}
.shop-title { display: flex; align-items: center; gap: 15px; }
.shop-icon {
  width: 50px; height: 50px;
  background: linear-gradient(135deg, var(--windows-blue), var(--windows-light-blue));
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
}
.shop-actions { display: flex; gap: 10px; }
.product-card {
  background: var(--windows-gray);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  padding: 25px;
  margin-bottom: 20px;
  transition: all 0.3s;
  height: 100%;
}
.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(0,120,212,0.3);
  border-color: var(--windows-blue);
}
.product-name { font-size: 1.3rem; font-weight: 600; margin-bottom: 15px; color: #fff; }
.product-price { font-size: 1.8rem; font-weight: 700; color: var(--windows-light-blue); margin-bottom: 10px; }
.product-stock { font-size: 0.9rem; color: rgba(255,255,255,0.6); margin-bottom: 20px; }
.badge {
  position: absolute; top: -8px; right: -8px;
  background: #dc3545; color: #fff; border-radius: 50%;
  width: 24px; height: 24px;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 700;
}

/* Cart sidebar */
.cart-sidebar {
  position: fixed; top: 0; right: -400px; width: 400px; height: 100vh;
  background: var(--windows-darker);
  border-left: 1px solid rgba(255,255,255,0.1);
  box-shadow: -5px 0 30px rgba(0,0,0,0.5);
  transition: right 0.3s; z-index: 1000;
  display: flex; flex-direction: column;
}
.cart-sidebar.open { right: 0; }
.cart-header { padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-between; align-items: center; }
.cart-body { flex: 1; overflow-y: auto; padding: 20px; }
.cart-item { background: var(--windows-gray); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1); }
.cart-footer { padding: 20px; border-top: 1px solid rgba(255,255,255,0.1); background: var(--windows-gray); }

.toast-container { position: fixed; top: 20px; right: 20px; z-index: 9999; }
.toast { background: var(--windows-gray); border: 1px solid rgba(255,255,255,0.1); color: #fff; min-width: 300px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
.toast-success { border-left: 4px solid #28a745; }
.toast-error { border-left: 4px solid #dc3545; }

.overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.7); display: none; z-index: 999;
}
.overlay.active { display: block; }
</style>
</head>
<body>

<div class="toast-container"></div>

<!-- Login Container -->
<div id="loginContainer" class="login-container">
  <div class="login-card">
    <div class="login-header">
      <div class="login-icon"><i class="fas fa-key"></i></div>
      <h1 class="h2 mb-2">Windows Kulcs Webshop</h1>
      <p class="text-muted mb-0">Bejelentkezés a folytatáshoz</p>
    </div>
    <div class="mb-3">
      <label for="username" class="form-label">Felhasználónév</label>
      <input type="text" class="form-control" id="username" placeholder="Felhasználónév">
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email cím (csak regisztrációhoz)</label>
      <input type="email" class="form-control" id="email" placeholder="pelda@email.hu">
    </div>
    <div class="mb-4">
      <label for="password" class="form-label">Jelszó</label>
      <input type="password" class="form-control" id="password" placeholder="••••••••">
    </div>
    <button class="btn btn-primary w-100 mb-2" id="loginBtn">Bejelentkezés</button>
    <button class="btn btn-outline-primary w-100" id="registerBtn">Regisztráció</button>
  </div>
</div>

<!-- Shop Container -->
<div id="shopContainer" style="display:none;">
  <div class="shop-container">
    <div class="shop-header">
      <div class="shop-title">
        <div class="shop-icon"><i class="fas fa-key fa-lg"></i></div>
        <div>
          <h1 class="h3 mb-0">Windows Kulcs Webshop</h1>
          <p class="text-muted mb-0 small">Üdvözöljük, <span id="usernameDisplay"></span>!</p>
        </div>
      </div>
      <div class="shop-actions">
        <button class="btn btn-primary position-relative" id="cartBtn">
          <i class="fas fa-shopping-cart"></i><span class="ms-2 d-none d-sm-inline">Kosár</span>
          <span class="badge" id="cartBadge" style="display:none;">0</span>
        </button>
        <button class="btn btn-outline-primary" id="backToLoginBtn">
          <i class="fas fa-arrow-left"></i><span class="ms-2 d-none d-sm-inline">Vissza</span>
        </button>
        <button class="btn btn-outline-danger" id="logoutBtn">
          <i class="fas fa-sign-out-alt"></i><span class="ms-2 d-none d-sm-inline">Kilépés</span>
        </button>
      </div>
    </div>
    <div class="mb-4">
      <h2 class="h4">Windows és Office licencek</h2>
      <p class="text-muted">Eredeti Microsoft termékek kedvező áron, azonnali aktiválással</p>
    </div>
    <div class="row" id="productsRow"></div>
  </div>
</div>

<!-- Cart Sidebar -->
<div class="cart-sidebar" id="cartSidebar">
  <div class="cart-header">
    <h3 class="h5 mb-0"><i class="fas fa-shopping-cart me-2"></i>Kosár</h3>
    <button class="btn btn-sm btn-outline-light" id="closeCartBtn"><i class="fas fa-times"></i></button>
  </div>
  <div class="cart-body" id="cartBody"><p class="text-center text-muted">A kosár üres</p></div>
  <div class="cart-footer">
    <div class="d-flex justify-content-between mb-3">
      <strong>Összesen:</strong>
      <strong class="text-primary" id="cartTotal">0 Ft</strong>
    </div>
    <button class="btn btn-primary w-100 mb-2"
